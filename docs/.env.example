# Frappe Configuration
FRAPPE_URL=http://20.110.161.71
FRAPPE_API_KEY=3db43070c24222a
FRAPPE_API_SECRET=278f4d5cdc78295

# Supabase Configuration
SUPABASE_URL=https://robin-supabase.m9ljtu.easypanel.host
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.ewogICJyb2xlIjogImFub24iLAogICJpc3MiOiAic3VwYWJhc2UiLAogICJpYXQiOiAxNzM2NzA2NjAwLAogICJleHAiOiAxODk0NDczMDAwCn0.Ke7fYgdN_6FZblN89_rEgGsH4Fa9O1J7WysDoTsyGKk
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# Redis Configuration (for queue)
REDIS_URL=redis://localhost:6379/0

# Sync Configuration
SYNC_BATCH_SIZE=100
SYNC_RETRY_ATTEMPTS=3
SYNC_RETRY_DELAY=5
CONFLICT_RESOLUTION_STRATEGY=last_modified_wins

# Webhook Security
WEBHOOK_SECRET_KEY=your_webhook_secret_key
FRAPPE_WEBHOOK_TOKEN=HAPPY

# Monitoring
LOG_LEVEL=INFO
ENABLE_METRICS=true
METRICS_PORT=9090

# Database (for sync state tracking)
DATABASE_URL=postgresql://user:password@localhost:5432/sync_db

# Schema Discovery Configuration
ENABLE_SCHEMA_DISCOVERY=true
DISCOVERY_MODE=auto  # auto, manual, hybrid
SCHEMA_CACHE_TTL=3600  # Cache schema for 1 hour
AUTO_MAPPING_CONFIDENCE_THRESHOLD=0.8  # 80% confidence for auto-mapping

# Frappe Schema Discovery
FRAPPE_DISCOVERY_DOCTYPES=Employee,Customer,Item,Lead,Opportunity  # Comma-separated list
FRAPPE_DISCOVERY_FIELDS=name,creation,modified,owner,modified_by  # Common fields to include
FRAPPE_DISCOVERY_SKIP_FIELDS=__islocal,__unsaved,__user_tags,__comments  # Fields to skip

# Supabase Schema Discovery
SUPABASE_DISCOVERY_TABLES=employees,customers,items,leads,opportunities  # Comma-separated list
SUPABASE_DISCOVERY_SKIP_TABLES=pg_,information_schema,pg_catalog  # Tables to skip
SUPABASE_DISCOVERY_SKIP_FIELDS=created_at,updated_at,id  # Fields to skip in discovery

# Field Mapping Intelligence
ENABLE_SMART_MAPPING=true
FIELD_SIMILARITY_THRESHOLD=0.7  # 70% similarity for field matching
ENABLE_FIELD_TYPE_MAPPING=true  # Map fields by type compatibility
ENABLE_SEMANTIC_MAPPING=true  # Use semantic analysis for field names

# Data Type Mapping Configuration
FRAPPE_TO_SUPABASE_TYPE_MAP={"Data": "text", "Int": "integer", "Float": "numeric", "Check": "boolean", "Date": "date", "Datetime": "timestamp", "Time": "time", "Text": "text", "Small Text": "text", "Long Text": "text", "Code": "text", "Link": "text", "Dynamic Link": "text", "Select": "text", "Read Only": "text", "Password": "text", "Attach": "text", "Attach Image": "text", "Signature": "text", "Color": "text", "Barcode": "text", "Geolocation": "text", "Duration": "integer", "Currency": "numeric", "Percent": "numeric"}

# Sync Rules Configuration
DEFAULT_SYNC_DIRECTION=bidirectional  # bidirectional, frappe_to_supabase, supabase_to_frappe
ENABLE_CASCADE_SYNC=true  # Sync related records
CASCADE_SYNC_DEPTH=2  # Maximum depth for cascade sync
ENABLE_CONDITIONAL_SYNC=true  # Sync only when conditions are met

# Advanced Configuration
ENABLE_SCHEMA_VALIDATION=true  # Validate schemas before sync
ENABLE_DATA_VALIDATION=true  # Validate data before sync
ENABLE_PERFORMANCE_OPTIMIZATION=true  # Optimize sync performance
MAX_CONCURRENT_SYNCS=10  # Maximum concurrent sync operations
SYNC_TIMEOUT=300  # Sync operation timeout in seconds